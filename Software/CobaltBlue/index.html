<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
	<meta charset="utf-8"/>
	<title>CobaltBlue</title>
	<meta name="author" content="Luca Padovani"/>
	<link type="text/css" rel="stylesheet" href="CobaltBlue.css"/>
</head>
<body>

<h1 id="cobaltblue—behavioraltypecheckingforconcurrentobjects">Cobalt<strong>Blue</strong> — Behavioral Type Checking for Concurrent Objects</h1>

<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#download">Download</a></li>
<li><a href="#installationinstructions">Installation instructions</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#emacsmode">Emacs mode</a></li>
</ul>

<h2 id="overview">Overview</h2>

<p>Cobalt is a behaviorally typed, mildly sugared version of the
<em>Objective Join Calculus</em> <a href="#cn:1" id="cnref:1" title="see citation" class="citation">(1)</a> that can be used to write simple
programs consisting of (concurrent) object definitions along with the
corresponding <em>object protocols</em>. CobaltBlue is a tool that performs
<em>protocol</em> and <em>deadlock</em> analysis of Cobalt programs: it checks that
each object in the program is consistent with — and is used according
to — its protocol; it checks that, if the program halts, all messages
with relevant arguments have been consumed. The tool implements (an
extension of) the type system described in <a href="#cn:2" id="cnref:2" title="see citation" class="citation">(2)</a> and
<a href="#cn:3" id="cnref:3" title="see citation" class="citation">(3)</a>.</p>

<p>Below is a summary of Cobalt&#8217;s main features and a simple example of
(ill-typed) Cobalt program modeling a lock. <img src="Lock.png" alt="image" /></p>

<ul>
<li><p>Cobalt supports <em>typestate</em> and <em>object-oriented programming</em> in
an naturally <em>concurrent</em> setting.</p></li>
<li><p>Native support for <em>join patterns</em> permits high-level, declarative
programming of complex synchronization schemes.</p></li>
<li><p>Types in Cobalt provide a unified language for specifying object
<em>interfaces</em>, their <em>sequential and concurrent protocols</em>, and
<em>aliasing control</em>.</p></li>
<li><p>Object protocols can be specified partially. In many cases
CobaltBlue is capable of <em>inferring</em> the omitted parts.</p></li>
<li><p><em>Equi-recursive types</em> can be used to describe infinite protocols.</p></li>
<li><p>Cobalt supports <em>state-dependent method types</em> and a <em>structural
subtyping relation</em> that enables the automatic inference of the
protocol of objects with uncertain state.</p></li>
<li><p>Cobalt extends join patterns with <em>inhibitors</em>, which prevent the
firing of a reaction in presence of certain messages. This feature
is key for the precise typing of many concurrent objects.</p></li>
<li><p>Cobalt provides syntactic sugar for <em>expressions</em>, <em>synchronous
method invocations</em> and <em>method chaining</em>, all of which are
internally compiled into objects and asynchronous message passing.</p></li>
<li><p>CobaltBlue integrates an <em>interpreter</em> based on a simple
implementation of the <em>actor model</em>. Each object is mapped to an
actor.</p></li>
</ul>

<p>For questions, suggestions and bug reports please contact <a href="http://www.di.unito.it/~padovani/index.html">Luca
Padovani</a>.</p>

<h2 id="download">Download</h2>

<ul>
<li><p><a href="CobaltBlue-2.1.tar.gz">CobaltBlue 2.1</a> - bug fix (02/12/2017)</p></li>
<li><p><a href="CobaltBlue-2.0.tar.gz">CobaltBlue 2.0</a> — deadlock analysis (06/11/2017)</p></li>
<li><p><a href="CobaltBlue-1.0.tar.gz">CobaltBlue 1.0</a> — first public release
(22/01/2017)</p></li>
</ul>

<h2 id="installationinstructions">Installation Instructions</h2>

<p>You need both <a href="https://gcc.gnu.org">GCC</a> and
<a href="https://www.haskell.org/ghc/">GHC</a> to compile CobaltBlue. Use of the
<a href="https://www.haskell.org/platform/">Haskell Platform</a> (full version)
and <a href="https://www.haskell.org/cabal/">Cabal</a> is recommended.</p>

<p>CobaltBlue also needs an external solver to decide the validity of
Presburger formulas. Currently, CobaltBlue can be configured to use
either <a href="http://www.montefiore.ulg.ac.be/~boigelot/research/lash">the LASH
toolset</a>
(this is the default choice) or <a href="https://github.com/Z3Prover/z3">Z3</a>.
Configuring CobaltBlue for Z3 is simpler and can be done using only
official Cabal packages, but requires nonetheless the installation of
Z3 alongside CobalBlue. Using LASH requires some manual work
(detailed below) but results in a self-contained executable. Also,
LASH outperforms Z3 in processing the Presburger formulas generated by
CobaltBlue.</p>

<p>Depending on the solver you choose, follow the instructions in the
corresponding section below before <a href="#compilingcobaltblue">compiling CobaltBlue</a>.</p>

<h3 id="configuringcobaltblueforlash">Configuring CobaltBlue for LASH </h3>

<ol>
<li><p>Download and unpack LASH in the same folder containing
<code>README.md</code>, rename the top-level folder to <code>lash</code> and <code>cd</code> there:</p>

<pre><code>wget http://www.montefiore.ulg.ac.be/~boigelot/research/lash/releases/lash-v0.92.tar.gz
tar xvfz lash-v0.92.tar.gz
mv lash-v0.92 lash
cd lash
</code></pre></li>
<li><p>On 64-bit architectures it is necessary to patch LASH:</p>

<pre><code>patch -p1 &lt;../lash64.diff
</code></pre></li>
<li><p>Compile LASH, go back to the main folder and configure CobaltBlue:</p>

<pre><code>make
cd ..
cabal configure
</code></pre></li>
</ol>

<h3 id="configuringcobaltblueforz3">Configuring CobaltBlue for Z3 </h3>

<ol>
<li><p>Z3 can be installed in a number of ways depending on your OS and
preferred package manager. On MacOS with
<a href="http://brew.sh">homebrew</a>, for example, this is achieved issuing
the command</p>

<pre><code>brew install z3
</code></pre></li>
<li><p>Configure CobaltBlue specifying the <code>Z3</code> flag:</p>

<pre><code>cabal configure -fZ3
</code></pre></li>
</ol>

<h3 id="compilingcobaltblue">Compiling CobaltBlue </h3>

<ol>
<li><p>Compile CobaltBlue:</p>

<pre><code>cabal build
</code></pre></li>
<li><p>Check whether the provided examples are type checked successfully:</p>

<pre><code>make check_examples
</code></pre></li>
</ol>

<h2 id="documentation">Documentation</h2>

<ul>
<li><p><a href="CobaltBlueTutorial.pdf">A Gentle Introduction to Concurrent TypeState-Oriented
Programming</a> with CobaltBlue.</p></li>
<li><p>The type system on which CobaltBlue is based has been described in
<a href="#cn:2" title="see citation" class="citation">(2)</a>, <a href="#cn:3" title="see citation" class="citation">(3)</a> and <a href="#cn:4" id="cnref:4" title="see citation" class="citation">(4)</a>.</p></li>
<li><p>CobaltBlue&#8217;s type checking/inference algorithm and deadlock analysis
will be detailed in forthcoming publications.</p></li>
</ul>

<h2 id="emacsmode">Emacs mode</h2>

<p>The CobaltBlue distribution includes an
<a href="https://www.gnu.org/software/emacs/">Emacs</a> mode that provides basic
syntax highlighting for Cobalt programs. Add the line</p>

<pre><code>(load &quot;&lt;path to&gt;/cobalt.el&quot;)
</code></pre>

<p>to your <code>.emacs</code> initialization file.</p>

<p><last-change>$LastChangedDate: 2017&#8211;11&#8211;06 20:41:47 +0100 (Mon, 06 Nov 2017) $</last-change></p>

<div class="citations">
<hr />
<ol>

<li id="cn:1">
<p>Cédric Fournet, Cosimo Laneve, Luc Maranget and Didier Rémy:
<a href="http://dx.doi.org/10.1016/S1567-8326(03)00040-7">Inheritance in the Join
Calculus</a>, <em>Journal
of Logic and Algebraic Programming</em>, 2003.
 <a href="#cnref:1" title="return to body" class="reversecitation">&#160;&#8617;</a></p>
</li>

<li id="cn:2">
<p>Silvia Crafa and Luca Padovani: <a href="http://dx.doi.org/10.1145/2814270.2814287">The Chemical
Approach to Typestate&#8211;Oriented
Programming</a>, <em>Proceedings
of OOPSLA</em>, 2015.
 <a href="#cnref:2" title="return to body" class="reversecitation">&#160;&#8617;</a></p>
</li>

<li id="cn:3">
<p>Silvia Crafa and Luca Padovani: <a href="http://dx.doi.org/10.1145/3064849">The Chemical
Approach to Typestate&#8211;Oriented
Programming</a>, <em>ACM Transactions on Programming Languages and Systems</em>, 2017.
 <a href="#cnref:3" title="return to body" class="reversecitation">&#160;&#8617;</a></p>
</li>

<li id="cn:4">
<p>Luca Padovani: <a href="https://hal.archives-ouvertes.fr/hal-01628801">Deadlock&#8211;Free Typestate&#8211;Oriented Programming</a>, <em>Technical Report HAL 01628801</em>, 2017.
 <a href="#cnref:4" title="return to body" class="reversecitation">&#160;&#8617;</a></p>
</li>

</ol>
</div>

</body>
</html>

